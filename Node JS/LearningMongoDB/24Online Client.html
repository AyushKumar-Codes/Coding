<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0060)https://internet.lpu.in/24online/servlet/E24onlineHTTPClient -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>24Online Client</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta http-equiv="cache-control" content="max-age=0, must-revalidate, no-cache, no-store, private">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="expires" content="-1">
 
<style type="text/css">.mystyle1 { FONT-FAMILY:Arial;FONT-SIZE:10;}.text1 {  font-family: Arial; font-size: 11px}
</style>
<style type="text/css">
.otpclass{display:none;}.phoneclass{display:none;}.captchaclass{display:none;}
#logingetotpbtn:disabled{background: #ccc;}#registergetotp:disabled{background: #ccc;}
</style>
<style type="text/css">
   <!--
     body {
     height: 100%;
     margin: 0;
     padding: 0;
    }
   //-->
  </style>
	<link rel="stylesheet" href="./24Online Client_files/cyberoam.css">
	<link rel="stylesheet" href="./24Online Client_files/fck_editorarea.css">
  
<link rel="shortcut icon" type="image/x-icon" href="https://internet.lpu.in/images/favicon.ico">
<script type="text/javascript" src="./24Online Client_files/jquery-1.7.2.min.js.download"></script>
<script language="JavaScript" src="./24Online Client_files/cyberoam.js.download"></script>
<!--
 Google OAuth OTP Flow GVK Mumbai Airport
<script language="JavaScript" src="/javascript/googleOAuth.js"></script>
<script language="JavaScript" src="http://184.168.20.115/zeta/js/jquery.min.js"></script>
<script language="JavaScript" src="https://apis.google.com/js/client.js"></script>
 -->
<script type="text/javascript" src="./24Online Client_files/utilities.js.download"></script>
<!-- script language="JavaScript" src="/javascript/usagecounter.js"></script-->
<script type="text/javascript" src="./24Online Client_files/ajax.js.download"></script>

<script type="text/javascript">
	function printDebugLog(message){try{console.debug(message);}catch (e) {}}
	var MAC_DYNAMIC_USER = "786";
	var serverContextPath = "https://172.20.0.66/24online";
	var VALIDATELOGINCAPTCHA = "1013";
	var MACADDRESS = "f8:c1:16:45:b6:a8";
	var GETOTPFORMACBASEDUSER = "1203"
	var isSingleBox = false;
	var AJAXPROXYURL = "/24online/webpages/ajaxproxy.jsp";
	var CHECKFOROTP = "1014";
	var HTTPCLIENTAUTHENTICATE = "191";
	var isResetPasswordOn = false;
	var isMACBasedUser = false;
	var CHECKFORLOGINCAPTCHA = "1020";
	var GETLOGINCAPTCHA = "1017";
	var GETLOGINOTP = "1015";
	var VALIDATELOGINOTP = "1012";
	var VALIDATELOGINCAPTCHA = "1013";
	var SENDREGISTEROTP = "1016";
	var GETLOGINCAPTCHA = "1017";
	var VALIDATEUSERNAME = "624";
	var CHECKOTPCAPTCHAFORMACBASEDUSER = "1202";
	var VALIDATEREGISTEROTP = "1215";
</script>
<script type="text/javascript" src="./24Online Client_files/otpcaptcha.js.download"></script>

<script type="text/javascript">
	re = /\w{1,}/;
	rew=/\W{1,}/;
	usernamere=/^[a-zA-Z0-9_\.]{1,30}$/;

	var hotelUserWin = null;
	var dt = new Date();

	dt.setHours("21");
	dt.setMinutes("20");
	dt.setSeconds("54");
	dt.setDate("13");
	dt.setMonth("3");
	dt.setYear("2024");
	var d=new Date();
	
	function getRegPackageList(){
		$jqVar=jQuery.noConflict();
		if(isSingleBox) {
			var packageListURL = '/24online/portal/packagesforselfregistration.do';
		
			$jqVar.ajax({
				type: 'GET',
			    url: packageListURL,
			    contentType: "application/json",
			    jsonpCallback: 'callback',
			    dataType: 'json',
			    success: function(json) {
			    	$jqVar("#packageforclientreg").html("");
			    	$jqVar.each(json.grouplist, function(idx, grouplist){
			    		$jqVar("#packageforclientreg").append('<option value="' + grouplist.id + '">' + grouplist.name + "</option>");
					});
			    	},
		    	error: function(e) {
		    		$jqVar("#packageforclientreg").html("");
		    		alert(e.message);
				}});
		}
		else {
			
		
			var packageListURL = serverContextPath+'/portal/packagesforselfregistration.do?ipaddress=172.21.128.89';
			var funToCall = loadPackageList;
			var err = doNothing;
			var ajaxproxyurl="/24online/webpages/ajaxproxy.jsp";
			AJAXRequestWithProxyUrl(packageListURL,funToCall,err,ajaxproxyurl);
		} 
	}
	
	function loadPackageList(){
		if(req.status == 200){
			var json = JSON.parse(req.responseText);
		
			$jqVar("#packageforclientreg").html("");
	    	$jqVar.each(json.grouplist, function(idx, grouplist){
	    		$jqVar("#packageforclientreg").append('<option value="' + grouplist.id + '">' + grouplist.name + "</option>");
			});
		} else {
			$jqVar("#packageforclientreg").html("");
	    	$jqVar("#packageforclientreg").append('<option value="-1"> No Package Found.</option>');
		}
	}
	
	function replacejsfile(){ 
		var r=new Date(); 
		var oldfilename="validateForm.js";
		var newfilename="validateForm.js?r="+r; 
		var targetelement= "script"; 
		var targetattr="src"; 
		var allsuspects=document.getElementsByTagName(targetelement); 
		for (var i=allsuspects.length; i>=0; i--){ 
			if (allsuspects[i] && allsuspects[i].getAttribute(targetattr)!=null && allsuspects[i].getAttribute(targetattr).indexOf(oldfilename)!=-1){ 
				var newelement=createjscssfile(newfilename, "js"); 
				allsuspects[i].parentNode.replaceChild(newelement, allsuspects[i]); 
			} 
		} 
	} 
	function createjscssfile(filename, filetype){ 
		if (filetype=="js"){ 
			var fileref=document.createElement("script"); 
			fileref.setAttribute("type","text/javascript"); 
			fileref.setAttribute("src", filename); 
		}
	}
	function openMyAccountWindow(){
	
		var profileName = document.getElementById("profileName");
		var url="/24online/myaccount.jsp";
		if(profileName!=null && profileName !==  undefined &&  profileName != 'null'){
			url=url+"?profileName="+profileName.value;
		}
		window.open(url,'_person');
	}
	function openTopupPin() {
		var profileName = document.getElementById("profileName");
		var url="/24online/clienttopup.jsp";
		if(profileName!=null && profileName !==  undefined &&  profileName != 'null'){
			url=url+"?profileName="+profileName.value;
		}
		window.open(url,'_person');
	}
	
	
	function setRegUsingPinLoginId(){
		
		var url="/24online/clientregistration.html";
		window.open(url);
		
	}
	
	function openSelfRegistrationPage(){
		var url="/24online/webpages/clientlogin.jsp?isselfregistrationpage=Y";
		window.open(url);
	}
	
	function setRenewAccUsingPinLoginId(){
		
		var url="/24online/clientrenewal.html";
		window.open(url);
	}	
		

	function changeBandwidth(){
		var scrw = window.screen.availWidth;
		var scrh = window.screen.availHeight;
		var w =scrw-120;
		var h =scrh-150;
		var left = (scrw-w)/2;
		var top = 5;
		window.open("/24online/webpages/redirectclientgui.jsp?key=ChangeBWOnDemandURL&username=12212470@lpu.com",'_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',titlebar=0,scrollbars=1');
	}

	function doNothing(){

	}


	/* call to ajax */
	function showAlert(){
		
	}

	/* this function get the message from XML document  */
	function popup(){

		var xmlDoc = req.responseXML.documentElement;
		var message = xmlDoc.getElementsByTagName("message");
		message = message[0].firstChild.data;
		var dtold = new Date();
		alert(message);
		var dtnew = new Date();
		var timeGap=dtnew.getTime()-dtold.getTime();
		timeGap=parseInt(timeGap/1000);
		document.forms[0].popupalert.value="0";
		document.forms[0].sessionTimeout.value=document.forms[0].sessionTimeout.value-timeGap;
	}

	/* this get the Data related to usage from XML */
	function getData(){

		//alert("get Data");
		var xmlDoc = req.responseXML.documentElement;

		var input = xmlDoc.getElementsByTagName("input");
		input = input[0].firstChild.data;

		var output = xmlDoc.getElementsByTagName("output");
		output = output[0].firstChild.data;

		var total = xmlDoc.getElementsByTagName("total");
		total = total[0].firstChild.data;

		var timeout = xmlDoc.getElementsByTagName("timeout");
		timeout = timeout[0].firstChild.data;

		
		var logout=xmlDoc.getElementsByTagName("logout");
		logout = logout[0].firstChild.data;
		
		var useddatatransfer = xmlDoc.getElementsByTagName("useddatatransfer");
		useddatatransfer = useddatatransfer[0].firstChild.data;
		document.getElementById('useddatatransfer').innerHTML =ByteConversion( useddatatransfer);

		var expiredate = xmlDoc.getElementsByTagName("expiredate");
		expiredate = expiredate[0].firstChild.data;
		document.getElementById('expiredate').innerHTML = expiredate;

		var packageamount = xmlDoc.getElementsByTagName("packageamount");
		packageamount = packageamount[0].firstChild.data;
		document.getElementById('packageamount').innerHTML = packageamount;

		var remainingfap =xmlDoc.getElementsByTagName("remainingfap");
		remainingfap = remainingfap[0].firstChild.data;
		
		if(logout==1){
			logoutUser();
			return;
		}


		/* unlimited usage for unlimited time */
		if(input==-1 && output==-1 && total==-1 && timeout==-1){

			document.getElementById("inOctets").innerHTML="Not Applicable";
			document.getElementById("outOctets").innerHTML="Not Applicable";
			document.getElementById("totalOctets").innerHTML="Not Applicable";
			document.getElementById("outOctets").innerHTML="Not Applicable";
		}
		
		if(remainingfap == -1){
			document.getElementById("remainingfap").innerHTML ="Not Applicable";
		}else if(remainingfap <= 0){
			document.getElementById("remainingfap").innerHTML ="0";
		}else if(remainingfap > 0){
			var str=ByteConversion(remainingfap);
			document.getElementById("remainingfap").innerHTML =str;
		}

		/* only total is availabe*/
		if(total > 0){
			var str=ByteConversion(total);
			document.getElementById("totalOctets").innerHTML=str;
			document.getElementById("inOctets").innerHTML="Not Applicable";
			document.getElementById("outOctets").innerHTML="Not Applicable";

		}else{

			document.getElementById("totalOctets").innerHTML="Not Applicable";

			if(input > 0){
				var str=ByteConversion(input);
				document.getElementById("inOctets").innerHTML=str;
			}else{
				document.getElementById("inOctets").innerHTML="Unlimited";
			}

			if(output > 0){
				var str=ByteConversion(output);
				document.getElementById("outOctets").innerHTML=str;

			}else{
				document.getElementById("outOctets").innerHTML="Unlimited";
			}
		}

		if(timeout > 0 ){
			getTime(timeout);
		}else if(timeout==-1){

			document.getElementById("sessionTime").innerHTML="Not Applicable";
			document.forms[0].sessionTimeout.value="Not Applicable";

		}
	}

	numCheck = new RegExp('^[0-9]{1,}$');
	rePhone = /[^0-9]/;

	function validate(){
		phoneNum=document.getElementById('Phone').value;
		var securitycode=document.getElementById('textfield').value;
		if(trimAll(phoneNum)==''){
			alert('Mobile Number is required');
			return false;
		}
		phoneNum = trim(phoneNum);
		if(phoneNum != '' && (rePhone.test(trim(phoneNum)) || phoneNum.length != 10)){
			alert('Specify correct Phone number');
			return false;
		}
		if(trimAll(securitycode)==''){
			alert('Please enter security code');
			return false;
		}
		loadValidateSecurityCode();
		return false;
	}

	function loadValidateSecurityCode() {
		var phoneNum=document.getElementById('Phone').value;
		var securitycode=document.getElementById('textfield').value;
		if (trim(phoneNum) != '' && trim(securitycode) != ''){
			securitycode= trim(securitycode);
			var url =	'https://172.20.0.66/24online/servlet/AjaxManager?mode=581&phone='+phoneNum+'&securitycode='+securitycode;
			var funToCall = parseValidateSecurityCode;
			AJAXRequestWithProxy(url,funToCall,errorfun_validatesecuritycode);
		}
	}
	function parseValidateSecurityCode(){
		var xmlDoc = req.responseXML.documentElement;
		var message = xmlDoc.getElementsByTagName('message');
		message = message[0].firstChild.data;
		if(message == 'valid'){
			var username = xmlDoc.getElementsByTagName('username');
			var password = xmlDoc.getElementsByTagName('password');
			document.getElementById('username').value = username[0].firstChild.data;
			document.getElementById('password').value = password[0].firstChild.data;
			document.regform.submit();
		}else{
			alert('Entered securitycode is not valid');
		}
	}

	function loadValidateNumber() {
		var phoneNum=document.getElementById('Phone').value;
		if(trimAll(phoneNum)==''){
			alert('Mobile Number is required');
			return false;
		}
		if (trim(phoneNum) != '' ){
			phoneNum = trim(phoneNum);
			if(rePhone.test(trim(phoneNum)) || phoneNum.length != 10){
				alert('Specify correct Phone number');
				return false;
			}
			var url = 'https://172.20.0.66/24online/servlet/AjaxManager?mode=580&phone='+phoneNum;
			var funToCall = parseValidateNumber;
			AJAXRequestWithProxy(url,funToCall,errorfun_validatephone);
			return true;
		}
	}
	function parseValidateNumber(){
		var xmlDoc = req.responseXML.documentElement;
		var message = xmlDoc.getElementsByTagName('message');
		message = message[0].firstChild.data;
		if(message == 'invalid'){
		}else{
			var securitycode = xmlDoc.getElementsByTagName('securitycode');
			securitycode = securitycode[0].firstChild.data;
		}
	}
	function errorfun_validatephone(){
		alert('Error in validating phone number');
	}
	function errorfun_validatesecuritycode(){
		alert('Error Error in validating security code');
	}

	function assignPrimiumPackage(){
		var username=document.getElementById('username').value;
		var password=document.getElementById('password').value;
		var url = 'https://172.20.0.66/24online/servlet/AjaxManager?mode=2002&username='+username+'&password='+password;
		var funToCall = parseAssignPrimiumPackage;
		AJAXRequestWithProxy(url,funToCall,errorfun_assignPrimiumPackage);
	}
	function parseAssignPrimiumPackage(){
		var xmlDoc = req.responseXML.documentElement;
		var message = xmlDoc.getElementsByTagName('message');
		message = message[0].firstChild.data;
		if(message == 'valid'){
			document.loginform.submit();
		}else{
			alert('Error while performing Change Package');
		}
	}
	function errorfun_assignPrimiumPackage(){
		alert('Error while assign Package');
	}

	/* this function get the time from XML document  */
	function getTime(timeout){
		var newSessiontime=timeout;
		var orgSessiontime = parseInt(document.forms[0].orgSessionTimeout.value);
		var Sessiontime=parseInt(document.forms[0].sessionTimeout.value);
		var diffSessiontime = orgSessiontime - Sessiontime;
		newSessiontime=newSessiontime-diffSessiontime;
		document.forms[0].sessionTimeout.value = newSessiontime;
		document.forms[0].orgSessionTimeout.value = timeout;
	}

	function err(){

	}

	/* detect touch in iPad and other touch sensitive device */
	try{
	document.addEventListener('touchstart', function(event) {
	//� � alert(event.touches.length);

			if(document.forms[0].chrome.value==0 && true){
				byteReducer();
				document.forms[0].chrome.value=1;
			}
		}, false);
	}catch(err){

	}

	/* This function call when body has focus and set the value */
	function gotFocus(){
		
			if(document.forms[0].chrome.value==0 && true){
			byteReducer();
			document.forms[0].chrome.value=1;
		}
	}

	/* This function call when body has focus */
	function lostFocus(){

		/*if(isChrome()){
			document.forms[0].chrome.value=0;
		}*/
	}


	/* this function call the ajax for byte reducer */
	function startByteReducer(){
		document.forms[0].chrome.value=0;
		setTimeout("startByteReducer()",600000);
	}


	/* call to ajax */
	function  byteReducer(){
		//alert("byte reducer start");
		
	}

	function setCurrentTimeDate(){
		dt.setMinutes(dt.getMinutes()+1);
		var date= getDayOfWeek(dt.getDay())+" , "+dt.getDate()+" "+getMonth(dt.getMonth())+" , "+dt.getFullYear();
		var time=dt.getHours()+" : "+dt.getMinutes()+" hours";
		var lblTime=document.getElementById('time');
		var lblDate=document.getElementById('date');
		if(lblTime!=null){
			lblTime.innerHTML = time;
		}
		if(lblDate!=null){
			lblDate.innerHTML = date;
		}
		setTimeout("setCurrentTimeDate()",60000);
	}
	
	function liverequest_done() {
		var textContent = req.responseXML;
		if(textContent != null && textContent != "") {
			var xmlDoc = req.responseXML.documentElement;
			var logoutstatus = xmlDoc.getElementsByTagName("logoutstatus");
			if(logoutstatus.length > 0 && logoutstatus[0].firstChild !== undefined && logoutstatus[0].firstChild != null) {
				logoutstatus = logoutstatus[0].firstChild.data;
			}
			else {
				logoutstatus = false;
			}
			var message = xmlDoc.getElementsByTagName("message");
			if(message.length > 0 && message[0].firstChild !== undefined && message[0].firstChild != null) {
				message = message[0].firstChild.data;
			}
			else {
				message = "";
			}
			if(logoutstatus == "true") {
				if(message != null && message!= "") {
					alert(message);
				}
				location.href="/24online/webpages/client.jsp?logoutstatus=true&message="+message+"&livemessage="+message;
			}
			else {
				if(message != null && message!= "") {
					alert(message);
				}
			}
		}
	}
	function refreshLiveRequest(liveRequestTime,isfirsttime){
		setTimeout("refreshLiveRequest("+liveRequestTime+",false)",liveRequestTime);
		AJAXRequest_async('/24online/webpages/liverequest.jsp?username=12212470@lpu.com&isfirsttime='+isfirsttime,liverequest_done,liverequest_done);
	}
	// SEND LIVE UPDATE REQ TO A PORT WHERE NO PROCESSING OCCURS SO THAT LOAD ON APACHE IS REDUCED
	// AND THIS ALSO KEEPS THE USER LIVE TO AVOID IDLE-TIMEOUT.
	function sendLiveUpdate(isfirsttime){
		if(isfirsttime == '1'){
			isfirsttime = '0';
		}else{
			
			iframeliveupd.location.href='https://internet.lpu.in:9090/';
		}
		setTimeout("sendLiveUpdate("+isfirsttime+")",180000);
	}

	function validateLogout(){
		document.forms[0].mode.value='193';
		document.forms[0].checkClose.value='1';
	}

	function validateLeave(){
		document.forms[0].mode.value='193';
		document.forms[0].checkClose.value='1';
		document.getElementById("leave").value='yes';
	}
	
	function showPassword() {
	    var x = document.forms[0].password;
	    if (x.type === "password") {
	        x.type = "text";
	    } else {
	        x.type = "password";
	    }
	}
	
	function validateLogin() {
		
			
				if (!(re.test(document.forms[0].username.value))){
					alert('Please Enter Username');
					document.forms[0].username.focus();
					return false;
				}
				if(document.forms[0].username.value.length > 50){
					alert('Username can not be more than 50 character');
					document.forms[0].username.value='';
					document.forms[0].username.focus();
					return false;
				}
			
			
				if(document.forms[0].password.value==''){
					alert('Please enter password');
					document.forms[0].password.focus();
					return false;
				}
			
			targ=document.getElementsByName('chkcond')[0];
			if(targ != null && !document.forms[0].chkcond.checked){
				alert('Please Read and Agree Terms and Conditions.');
				document.forms[0].chkcond.focus();
				return false;
			}
			if(document.clientloginform.loginotp !== undefined) {
				checkLoginOTPCaptcha();
				return false;
			}
		
	}

	function fetchUserFromPassword() {
		form = document.forms[0];
	    var url = "https://172.20.0.66/24online/servlet/AjaxManager?mode=2000&nasip=172.20.0.67&password="+document.getElementsByName('password')[0].value;
		var funToCall = parseUserNameFromPasswd;
		
			AJAXRequestWithProxy_sync(url,funToCall,errorfun);
		
	}


	function parseUserNameFromPasswd() {
        var xmlDoc = req.responseXML.documentElement;
        var username = "0";
        var password = "0";
        var returnValue = xmlDoc.getElementsByTagName('returnstatus');
        returnValue = returnValue[0].firstChild.data;
		if(returnValue == 0){
			if(document.getElementById('errormessage')){
				document.getElementById('errormessage').innerHTML = '';
			}
			username = xmlDoc.getElementsByTagName('username')[0].firstChild.data;
			password = xmlDoc.getElementsByTagName('password')[0].firstChild.data;
			if(username != "0" && password != "0" && username != "" ){
				document.forms[0].username.value = username;
				document.forms[0].password.value = password;
				if(document.clientloginform.loginotp !== undefined) {
					checkLoginOTPCaptcha();
					return false;
				}
			}
		} else {
			alert('Invalid Voucher Code Entered');
			return false;
		}
	}

	function validateLoginAndSubmit(){
		if (!(re.test(document.forms[0].username.value))){
			alert('Please enter the Coupon Id');
			document.forms[0].username.focus();
			return false;
		}
	
		if(document.forms[0].password.value==''){
			alert('Please enter password');
			document.forms[0].password.focus();
			return false;
		}
	
		if(document.clientloginform.loginotp !== undefined) {
			checkLoginOTPCaptcha();
			return false;
		}
		document.forms[0].mode.value='191';
		document.forms[0].checkClose.value='1';
		document.forms[0].method='post';
		validateSubmit();
		return true;
	}
	function buycouponnow(){
		location.href="/24online/webpages/paymentgateway/onlinepinpurchase.jsp"
	}

	function logoutUser(){
		document.forms[0].mode.value='193';
		document.forms[0].checkClose.value='1';
		document.forms[0].method='post';
		
		document.forms[0].submit();
	}

	var message="� Cyberoam-Client";
	function click(e){
		if (document.all) {
			if (event.button == 1 || event.button == 2) {
				alert(message);
				return false;
			}
		}
		if (document.layers) {
			if (e.which == 3) {
				alert(message);
				return false;
			}
		}
	}
	if (document.layers) {
		document.enableExternalCapture();
		document.captureEvents(Event.MOUSEDOWN);
	}
	//document.onmousedown=click;
	function blurobj(obj){
		obj.style.backgroundColor="lightgrey";
		obj.disabled = true ;
	}
	function callAdministrator(){
		window.open("/24online/webpages/calladmin.jsp","CallAdmin","dialogHeight=5;dialogWidth=35;center=1;status=0;resizable=0;help=0");

	}

	function openBuyNewPackage(){
		/* var url="/24online/buypkgpinpgpage/buypkgpinpg.do";
		window.open(url); */
		
		 var scrw = window.screen.availWidth;
		var scrh = window.screen.availHeight;
		var w = scrw-120;
		var h = scrh-150;
		var left = (scrw-w)/2;
		var top = 5;

		window.open('/24online/buypkgusing_pgway.html','_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',resizable=1,status=1,titlebar=0,menubar=1,toolbar=1,location=1,scrollbars=1');
 	
	}
		
	function openMyAccountLogin(){
		
		/* var url="/24online/myaccountloginpage/myaccountlogin.do";
		window.open(url); */
		
			var scrw = window.screen.availWidth;
			var scrh = window.screen.availHeight;

			var w = scrw-120;
			var h = scrh-150;
			var left = (scrw-w)/2;
			var top = 5;
			var profileName;
			profileName = document.getElementById("profileName");
			var url="/24online/myaccount.jsp";
		if(profileName!=null && profileName !==  undefined &&  profileName != 'null'){
			url+="?profileName="+profileName.value;
		}else{
			url+="?profileName=null";
		}
		
		window.open(url,'_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',resizable=1,status=1,titlebar=0,menubar=1,toolbar=1,location=1,scrollbars=1');
	}
	
	function openMyAccountAutoLogin(){
		
		/* var url="/24online/myaccountloginpage/myaccountlogin.do";
		window.open(url); */
		
			var scrw = window.screen.availWidth;
			var scrh = window.screen.availHeight;

			var w = scrw-120;
			var h = scrh-150;
			var left = (scrw-w)/2;
			var top = 5;
			var profileName;
			profileName = document.getElementById("profileName");
			var url="/24online/myaccount.jsp?myaccountautologin=true";
		if(profileName!=null && profileName !==  undefined &&  profileName != 'null'){
			url+="&profileName="+profileName.value;
		}else{
			url+="&profileName=null";
		}
		
		
		window.open(url,'_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',resizable=1,status=1,titlebar=0,menubar=1,toolbar=1,location=1,scrollbars=1');
	}

	function openRenewPackageByPaymentGateway(){

		
		
		var scrw = window.screen.availWidth;
		var scrh = window.screen.availHeight;

		var w =scrw-120;
		var h =scrh-150;

		var left = (scrw-w)/2;
		var top = 5;

		window.open('/24online/renewusing_pgway.html','_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',resizable=1,status=1,titlebar=0,menubar=1,toolbar=1,location=1,scrollbars=1'); 
	}

	function openHotelUserRegistration(){

		var scrw = window.screen.availWidth;
		var scrh = window.screen.availHeight;

		var w =scrw-120;
		var h =scrh-150;

		var left = (scrw-w)/2;
		var top = 5;

		if(hotelUserWin == null || hotelUserWin.closed){
			hotelUserWin = window.open('/24online/webpages/hoteluserregistration.jsp','_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',resizable=1,status=1,titlebar=0,menubar=1,toolbar=1,location=1,scrollbars=1');
		}else{
			hotelUserWin.focus();
		}

	}

	function accessHotelUserWindowParam(){
		

	}
	function sendGuestMsgRequest(){
		alert("Your request for Guest Messages has been sent.\nMessage(s) will be displayed in a short while.");
		var scrw = window.screen.availWidth;
		var w =scrw-180;
		window.open("/24online/webpages/myaccount/guestmessages.jsp?username=12212470@lpu.com",'guestmsg','resizable=1,status=1,width='+w);
		/*document.clientloginform.mode.value="";
		document.clientloginform.guestmsgreq.value="true";
		document.clientloginform.method="post";
		document.clientloginform.submit();*/
	}
	function sendGuestBillReq(){
		var scrw = window.screen.availWidth;
		var scrh = window.screen.availHeight;
		var w =scrw-120;
		var h =scrh-150;
		var left = (scrw-w)/2;
		var top = 5;
		window.open('/24online/webpages/hoteluserregistration.jsp?pwdmode=514','_blank','screenX=0,screenY=0,left='+left+',top='+top+',width=' + w + ',height=' + h +  ',titlebar=yes,scrollbars=yes');
	}

	// functions for loading Package Details

	function loadPackageDetails() {
		// Sending AJAX Request with user name and respective mode
		
	} //Return from AJAX

	function parsePackageDetails(){
		var xmlDoc = req.responseXML.documentElement;

		var allottedtime = xmlDoc.getElementsByTagName("allottedtime");
		allottedtime = allottedtime[0].firstChild.data;
		document.getElementById('allottedtime').innerHTML = allottedtime;

		var packageamount = xmlDoc.getElementsByTagName("packageamount");
		packageamount = packageamount[0].firstChild.data;
		document.getElementById('packageamount').innerHTML = packageamount;

		var expiredays = xmlDoc.getElementsByTagName("expiredays");
		expiredays = expiredays[0].firstChild.data;
		document.getElementById('expiredays').innerHTML = expiredays;

		var expiredate = xmlDoc.getElementsByTagName("expiredate");
		expiredate = expiredate[0].firstChild.data;
		document.getElementById('expiredate').innerHTML = expiredate;

	}

	function getPackagesForDynamicUsers(){
		
	}

	function StringtoXML(text){
        if (window.ActiveXObject){
          var doc=new ActiveXObject('Microsoft.XMLDOM');
          doc.async='false';
          doc.loadXML(text);
        } else {
          var parser=new DOMParser();
          var doc=parser.parseFromString(text,'text/xml');
        }
        return doc;
    }

	function parsePackagesForDynamicUsers(){
		var xmlDoc = req.responseXML.documentElement;
		printDebugLog("Processing AJAX Response");
		setPackagesForDynamicUsers(xmlDoc);
	}

	function parsePackagesForDynamicUsersMultiMode(){
		var xmlDoc = "<response><userexpirymsg></userexpirymsg></response>";
		printDebugLog("Processing LocalResponse with Package Details # " + xmlDoc );
		setPackagesForDynamicUsers(stringToXML(xmlDoc));
	}

	function setPackagesForDynamicUsers(xmlDoc){
		printDebugLog("Called to set Packages for MAC Based Dynamic users with data # " + xmlDoc);
		var groupIdBox = document.getElementById('groupid');

		if (groupIdBox == null ) {
			printDebugLog("Group Id Object not found, hence, creating hidden field of GoupId object.");
			var newdiv = document.createElement('select');
			newdiv.setAttribute("name", "groupid");
			newdiv.setAttribute("id", "groupid");
			document.clientloginform.appendChild(newdiv);

			document.getElementById('groupid').style.display = "none";
		}

		var targ = document.getElementsByName('groupid')[0];
		if(targ != null){
			

		}
	}

/*
	function fillComboWithIndex(comboname,tagname,index,xmlDoc){
		//alert(xmlDoc);
		var targ=document.getElementsByName(comboname)[index];
		var options = xmlDoc.getElementsByTagName(tagname);

		var key;
		var val;

		for( var i=0; i < options.length; i++ ) {
			key = options[i].getElementsByTagName("key");
			val = options[i].getElementsByTagName("value");

			targ.options[ i ] = new Option( val[0].firstChild.data, key[0].firstChild.data );
		}
	}
*/
	function getGroupInfoByAjax(){
		
	}
	function loadCPProfileGroupDetails(){

		form = document.forms[0];
		var profileGroupId = document.getElementById("profilegroupid");

		if(profileGroupId!=null && profileGroupId !=  'undefined' &&  profileGroupId != 'null' ){

			var profileName = document.getElementById("profileName").value;

			if(profileName!=null && profileName !=  'undefined' &&  profileName != 'null'){
				document.getElementById('cpprofiletable').style.display='none';
				var url="/24online/servlet/AjaxManager?mode=958&profileName="+profileName;
				var funToCall = loadProfileAttributeList;
				AJAXRequest(url,funToCall,errorfunction);
			}

		}


	}
	
	function loadProfileAttributeList(){

		var targ=document.getElementsByName('profilegroupid')[0];
		var xmlDoc = req.responseXML.documentElement;
	/* 	var message =  xmlDoc.getElementsByTagName('Message');
		alert("message : "+message[0]);
		if(message[0]!=null && message[0] !=  'undefined' &&  message[0] != 'null'){
			alert("test message;");
			message = message.getElementsByTagName("value");
			document.getElementById('errormessage').innerHTML = "<font class='errorfont'>"+message+"</font>";
		}
		alert("test message 2;"); */
		if(targ!= null) {
			targ.options.length=0;
			//targ.options[0] = new Option( 'Select Here', '0' );
			fillCombo("profilegroupid","profileAttributeList");
			document.forms[0].profilegroupid.focus();

			var profileAttribute = xmlDoc.getElementsByTagName('profileAttributeList');

			if(profileAttribute!=null && profileAttribute.length==1){

				document.getElementById('cpprofiletable').style.display='none';
			}else{

				document.getElementById('cpprofiletable').style.display='table';
			}
		}
	}
	
	function errorLoadCPProfile(){
		alert("Error while loading captive portal profile attributes. ")
	}
	
	function showSelectedPlanDetails(){
		var xmlDoc = req.responseXML.documentElement;
		var groupname;
		var groupid;
		var	allottedtime;
		var duration;
		var uplimit;
		var dnlimit;
		var price;

		groupname = xmlDoc.getElementsByTagName('groupname')[0].firstChild.data;
		groupid = xmlDoc.getElementsByTagName('groupid')[0].firstChild.data;
		allottedtime = xmlDoc.getElementsByTagName('allottedtime')[0].firstChild.data;
		duration = xmlDoc.getElementsByTagName('duration')[0].firstChild.data;
		uplimit = xmlDoc.getElementsByTagName('uplimit')[0].firstChild.data;
		dnlimit = xmlDoc.getElementsByTagName('dnlimit')[0].firstChild.data;
		price = xmlDoc.getElementsByTagName('price')[0].firstChild.data;

		targ=document.getElementById('packagename');
		if(targ != null){
			document.getElementById('packagename').innerHTML = groupname;
		}
		targ=document.getElementById('allottedtime');
		if(targ != null){
			document.getElementById('allottedtime').innerHTML = allottedtime;
		}
		targ=document.getElementById('packageamount');
		if(targ != null){
			document.getElementById('packageamount').innerHTML = price;
		}
		targ=document.getElementById('uploaddatatransfer');
		if(targ != null){
			document.getElementById('uploaddatatransfer').innerHTML = uplimit;
		}
		targ=document.getElementById('downloaddatatransfer');
		if(targ != null){
			document.getElementById('downloaddatatransfer').innerHTML = dnlimit;
		}

	}

	function validateLoginForMACBasedUsers(){
		form = document.forms[0];
		var url = "https://172.20.0.66/24online/servlet/AjaxManager?mode=647&macaddress=f8:c1:16:45:b6:a8&nasip=172.20.0.67&groupid="+form.groupid.value;
		var funToCall = parseLoginForMACBasedUsers;
		
		   var ajaxproxyurl="/24online/webpages/ajaxproxy.jsp";
		   AJAXRequestWithProxyUrl(url,funToCall,errorfun,ajaxproxyurl);
		
	}

	function parseLoginForMACBasedUsers(){
		var xmlDoc = req.responseXML.documentElement;
		var username = "0";
		var password = "0";
		var returnValue = xmlDoc.getElementsByTagName('returnstatus');
		returnValue = returnValue[0].firstChild.data;
		if(returnValue == "1"){
			if(document.getElementById('errormessage')){
				document.getElementById('errormessage').innerHTML = '';
			}
			username = xmlDoc.getElementsByTagName('username')[0].firstChild.data;
			password = xmlDoc.getElementsByTagName('password')[0].firstChild.data;
			if(username != "0" && password != "0"){
				document.forms[0].username.value = username;
				document.forms[0].password.value = password;
				document.forms[0].mode.value='191';
				document.forms[0].checkClose.value='1';
				document.forms[0].submit();
			}
		}else{
			if(document.getElementById('errormessage')){
				document.getElementById('errormessage').innerHTML = "<font class='errorfont'>Problem in renewing MAC Based Dynamic User</font>";
			}
		}
	}
	function errorfunction(){
		//alert("errorfunction() called");
	}
	function oldCheckForResetPassword() {
		form = document.forms[0];
		var url = "https://172.20.0.66/24online/servlet/AjaxManager?mode=655&username="+form.username.value+"&password="+form.password.value;
		var funToCall = parseCheckForResetPassword;
		var errorfun = errorfunction;
		
			var ajaxproxyurl="/24online/webpages/ajaxproxy.jsp";
			AJAXRequestWithProxyUrl(url,funToCall,errorfun,ajaxproxyurl);
		
	}
	function checkForResetPassword(){
		form = document.forms[0];
		var url = "https://172.20.0.66/24online/servlet/CPAjaxManager?mode=655&username="+form.username.value+"&password="+form.password.value;
		var profileGroupId = document.getElementById("profilegroupid");
		if(profileGroupId!=null && profileGroupId !==  undefined &&  profileGroupId != 'null' ){
			url += "&profilegroupid="+profileGroupId.value;
		}
		var profileName = document.getElementById("profileName");
		if(profileName!=null && profileName !==  undefined &&  profileName != 'null'){
			url += "&profileName="+profileName.value;
		}
		var funToCall = parseCheckForResetPassword;
		var errorfun = oldCheckForResetPassword;
		
			var ajaxproxyurl="/24online/webpages/ajaxproxy.jsp";
			AJAXRequestWithProxyUrl(url,funToCall,errorfun,ajaxproxyurl);
		
	}
	function parseCheckForResetPassword(){
		var xmlDoc = req.responseXML.documentElement;
		if(xmlDoc != null){
			var userid = "0";
			var returnValue = xmlDoc.getElementsByTagName('returnstatus');
			returnValue = returnValue[0].firstChild.data;
			if(returnValue == "1"){
				userid = xmlDoc.getElementsByTagName('userid')[0].firstChild.data;
				if(userid != "0"){
					var redirecturl = "/24online/webpages/resetpassword.jsp?username="+document.forms[0].username.value;
					document.forms[0].username.value = "";
					document.forms[0].password.value = "";
					window.location = redirecturl;
					return;
				}
			}else{
				document.forms[0].mode.value='191';
				document.forms[0].checkClose.value='1';
				document.forms[0].submit();
			}
		}else{
			document.forms[0].mode.value='191';
			document.forms[0].checkClose.value='1';
			document.forms[0].submit();
		}
	}
	function focusUsername(){
		try{
	// if prelogin page and if it is not a MAC Based Dynamic User, then focus on username
	
		}catch(err){
			try{
				console.debug("Can not get focus on username field becuase that field does not exist");
			}catch(err){/*This exception will be thrown by IE, because it does not have functionality of loggin in the console*/}
		}
		
}
	function autologin(){
		//alert('autologin called');
		
		document.forms[0].username.value="12212470@lpu.com";
		
		document.forms[0].password.value='null';
		document.forms[0].mode.value='191';
		document.forms[0].checkClose.value='1';
		document.forms[0].submit();
	}
	function validateSubmit(){
		
		return true;
	}


	 
		function loadOTPCaptcha() {
			if (!isMACBasedUser) {
				showRegisterCaptcha();
			}else {
				showMACBasedUserOTPCaptcha();
				showFirstLoginAttributes();
			}
		}
		
		function groovyvalidate(groovyName,successFun,errorFun){
			var packageListURL = '/24online/portal/rungroovyscript.do?groovyname='+groovyName;
			var data = serialize(document.forms[0]);
			var groovySuccess = function(){
				var response = req.responseText;
				return successFun(response);
			}
			var groovyError = function(){
				var response = req.responseText;
				return errorFun(response);
			}
		    AJAXRequest_post(packageListURL,data,groovySuccess,groovyError);
		}
		
		function groovyvalidate_async(groovyName,successFun,errorFun){
			var packageListURL = '/24online/portal/rungroovyscript.do?groovyname='+groovyName;
			var data = serialize(document.forms[0]);
			var groovySuccess = function(){
				var response = req.responseText;
				return successFun(response);
			}
			var groovyError = function(){
				var response = req.responseText;
				return errorFun(response);
			}
		    AJAXRequest_post_async(packageListURL,data,groovySuccess,groovyError);
		}
		
</script>


 <script type="text/javascript">
 jQuery(document).ready(function(){
	var userName = "12212470@lpu.com";
	if(userName != null && userName != "null"){
		
		var url = "https://172.20.0.66/24online/servlet/AjaxManager?mode=2525&userName="+userName+"&random="+Math.random();
		var funToCall = showUsedData;
	//	AJAXRequest_async(url,funToCall,errorfun);
		
		var ajaxproxyurl="/24online/webpages/ajaxproxy.jsp";
		AJAXRequestWithProxyUrl(url,funToCall,errorfun,ajaxproxyurl);
		
	}	
 });

function showUsedData(){
	var xmlDoc = req.responseXML.documentElement;
	var useddata = xmlDoc.getElementsByTagName('useddata')[0].firstChild.data;
	if(useddata != null){
		document.getElementById("useddatatransfer").innerHTML= useddata ;
	}
	var remaindata = xmlDoc.getElementsByTagName('remaindata')[0].firstChild.data;
	if(remaindata == 0){
		document.getElementById("totalOctets").innerHTML="Not Applicable";
	}else if(remaindata != null){
		document.getElementById("totalOctets").innerHTML= remaindata ;
	}
}
</script> 

</head>

<body bgcolor="#ffffff" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onload="byteReducer();setCurrentTimeDate();loadPackageDetails();focusUsername();startByteReducer();refreshTimeout();loadCPProfileGroupDetails();replacejsfile();" onbeforeunload="accessHotelUserWindowParam();" onfocus="gotFocus();" onblur="lostFocus();" class="bg">

<form action="https://internet.lpu.in/24online/servlet/E24onlineHTTPClient" method="post" target="_parent" name="clientloginform">
<input type="hidden" name="mode" value="191">
<input type="hidden" name="isAccessDenied" value="null">
<input type="hidden" name="url" value="null">
<input type="hidden" name="message" value="">
<input type="hidden" name="regusingpinid" value="">
<input type="hidden" name="checkClose" value="0">
<input type="hidden" name="sessionTimeout" value="514790">
<input type="hidden" name="guestmsgreq" value="false">
<input type="hidden" name="logintype" value="2">
<input type="hidden" name="orgSessionTimeout" value="514800">
<input type="hidden" name="chrome" value="1">
<input type="hidden" name="alerttime" value="-11">
<input type="hidden" name="timeout" value="514800">
<input type="hidden" name="popupalert" value="1">
<input type="hidden" name="dtold" value="1713023463542">
<input type="hidden" name="mac" value="f8:c1:16:45:b6:a8">
<input type="hidden" name="servername" id="servername" value="172.20.0.66">
<input type="hidden" name="temptype" id="temptype">
<input type="hidden" name="selfregpageid" id="selfregpageid">
<input type="hidden" name="leave" id="leave" value="no">
<!-- macaddress,ipaddress added for register and login user on single click -->
<input type="hidden" name="macaddress" value="f8:c1:16:45:b6:a8">
<input type="hidden" name="ipaddress" value="172.21.128.89">


<input type="hidden" name="loggedinuser" value="12212470@lpu.com">

<script type="text/javascript">

/* function settemptype(temptype){
	
	document.getElementById("temptype").value=temptype;
}
 */
var donothing_logout = new function () {};

	function reloadthis() {
		if(document.clientloginform.guestmsgreq.value == "false"){

		}
	}
	window.onbeforeunload=reloadthis;
</script>
<script type="text/javascript">

			window.resizeTo(600,600);

			window.blur();

</script>

<!--
<div id="jsdis" style="display:''">
	<br /><br />
	<center><b>You do not have Javascript enabled browser.</b></center>
</div>
-->

  <div id="jsena" style="display:&#39;none&#39;">
<table width="100%" border="0" cellpadding="0" cellspacing="0">

	<tbody><tr>
	<td width="100%">
		<input type="hidden" name="username" value="12212470@lpu.com"> <div style="display:none"><iframe name="iframeliveupd" id="iframeliveupd" src="./24Online Client_files/saved_resource.html"></iframe></div>	<title>Staff/Student Login</title>	<link href="./24Online Client_files/bootstrap1.css" rel="stylesheet">	<style type="text/css">.bg {			background-image: linear-gradient(to right top, #ffba80, #ffaead, #ffb3df, #d0c2fe, #9dd0ff);			height: 100vh		}		.container {			display: flex;			justify-content: center;			align-items: center;			height: 99vh;			flex-direction: column;		}		.login-section {box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 4px -1px;border-radius: 100px 0 100px 0;			padding: 3rem 1rem;			background: url(/images/customizeimages/login-section-bg.png), linear-gradient(to right top, #ffffff, #f0f1ff, #dbe4ff, #c0daff, #9dd0ff);			background-repeat: no-repeat;			background-size: cover;	background-position: center;	}		.login-field {			background: #FFF;			display: flex;			justify-content: center;			align-items: center;			flex-direction: column;		}		.bshadow {			box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 4px -1px;		}		.login-field label {			display: block;			margin-bottom: 15px		}		.login-field input[type=text],		.login-field input[type=password] {			display: block;			margin-bottom: 15px;			width: 90%;			padding: 0.375rem 0.75rem;			font-size: 1rem;			font-weight: 400;			line-height: 1.5;			color: #212529;			background-color: #fff;			background-clip: padding-box;			border: 1px solid #ced4da;			-webkit-appearance: none;			-moz-appearance: none;			appearance: none;			border-radius: 0.375rem;			transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;		}		.buttonstyle {			display: inline-block;			height: auto;			padding: 6px 12px;			margin-bottom: 0;			font-size: 14px;			font-weight: normal;			line-height: 1.42857143;			text-align: center;			white-space: nowrap;			vertical-align: middle;			cursor: pointer;			-webkit-user-select: none;			-moz-user-select: none;			-ms-user-select: none;			user-select: none;			background-image: none;			border: 1px solid transparent;			border-radius: 4px;		}		@media(max-width:1200px) {			.btn {				display: block;    width: fit-content;    margin: 0 auto;	}		}		@media(max-width:992px) {	body{padding:20px}		.login-section {padding: 1rem 1rem;    height: 100vh;    border-radius: 0;    justify-content: center;    align-items: center;    display: flex;    flex-direction: column;}					.container {				height: auto			}			.w-75 {				width: auto !important;				height: 100px;				overflow-y: scroll			}			.login-field {				padding: 25px 0 !important			}			.login-field .cdiv {				width: 80%			}			.card-title {				text-align: center			}			.bg {				height: auto			}			h1 {				font-size: 18px			}			small {				display: block			}		}	</style><div class="container"><div class="row"><div class="col-lg-12 login-section text-center"><div class="text-center pt-4 pb-3"><img alt="" src="./24Online Client_files/logo.png" style="width: 246px;"></div><div class="pt-2 pb-3" style="margin:0 auto"><p class="pt-2 pb-3" style="font-weight: 500;font-size: 20px;color:green;"></p><a class="mt-2 mb-3 btn btn-primary btn-sm" href="http://172.20.0.66/myaccount.html" target="_blank">Click here to check your usage</a><p class="pt-2 pb-3" style="font-weight: 500;font-size: 14px;">NOTE:- Dear Users, Please Logout your current session properly before moving to new location.</p><input type="submit" name="logout" class="buttonstyle" value="Logout" onclick="validateLogout();"><p class="pt-2 pb-3" style="font-weight: 500;font-size: 14px;">&nbsp;To start surfing, Minimize this login window and open a new browser window.<br>&nbsp;Please do not close this Window without logging out</p></div></div></div></div><input type="hidden" name="saveinfo"><div style="display:none"><font class="note"><b><label id="sessionTime">142:59:51</label></b></font></div><div style="display:none"><font class="note"><b><label id="inOctets">Not Applicable</label></b></font></div><div style="display:none"><font class="note"><b><label id="outOctets">Not Applicable</label></b></font></div><div style="display:none"><font class="note"><b><label id="totalOctets">Not Applicable</label></b></font></div><div style="display:none"><font class="note"><b><label id="remainingfap">Not Applicable</label></b></font></div><div style="display:none"><font class="note"><b><label id="packageamount"></label></b></font></div><div style="display:none"><font class="note"><b><label id="expiredate"></label></b></font></div><div style="display:none"><font class="note"><b><label id="date">Saturday , 13 April , 2024</label></b></font></div><div style="display:none"><font class="note"><b><label id="time">21 : 21 hours</label></b></font></div><div style="display:none"><font class="note"><b><label id="useddatatransfer">Not Applicable</label></b></font></div><div style="display:none"><font class="note"><b><label id="status"></label></b></font></div>
		<script type="text/javascript">
		
			refreshLiveRequest('180000',"true");
		
			sendLiveUpdate('1');
		</script>
	</td>
	</tr>

</tbody></table>

  </div>
</form>
<script type="text/javascript">

//			location.href = document.URL+"&isreloaded=true";

	jsena.style.display='' ;
</script>



<script type="text/javascript">



</script>

<script type="text/javascript">
function refreshTimeout(){

	sessiontime = parseInt(document.forms[0].sessionTimeout.value);

	if(parseInt(sessiontime) >= 0){
		second = parseInt(sessiontime % 60.0);
		totmins = parseInt(sessiontime / 60.0);
		mins = parseInt(totmins % 60);
		tothrs = parseInt( totmins / 60);
		var str=((tothrs > 9) ? (""+tothrs) : ("0"+tothrs)) + ":" + (mins > 9 ? (""+mins) : ("0"+mins)) + ":" + (second > 9 ? (""+second) : ("0"+second)) ;
		document.getElementById("sessionTime").innerHTML=str;

		var timeGap=0;
		if(document.forms[0].dtold.value > 0){
			var dtnew = new Date();
			timeGap=parseInt(dtnew.getTime())-parseInt(document.forms[0].dtold.value);
			timeGap=parseInt(timeGap/1000);
		}

		if(timeGap > 1){
			document.forms[0].sessionTimeout.value = sessiontime -timeGap;//- timeGap;
		}else{
			document.forms[0].sessionTimeout.value = sessiontime - 1;//- timeGap;
		}

		sessiontime=parseInt(document.forms[0].sessionTimeout.value);

		
		//document.forms[0].sessionTimeout.value=document.forms[0].sessionTimeout.value-timeGap;
		var dt=new Date();
		document.forms[0].dtold.value=dt.getTime();
		setTimeout("refreshTimeout()",1000);
	}
}
</script>

<script type="text/javascript">
	document.forms[0].popupalert.value="1";
</script>




</body></html>